generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

// --- Manually Defined Materialized Views ---
// Added @@ignore to tell Prisma to never try and migrate these.

model report_events_hourly {
  hour        DateTime? @db.Timestamp(6)
  source      String?
  funnelStage String?   @map("funnelStage")
  eventType   String?   @map("eventType")
  event_count BigInt?

  @@unique([hour, source, funnelStage, eventType], name: "idx_report_events_hourly_unique")
  @@ignore
}

model report_revenue_hourly {
  hour              DateTime? @db.Timestamp(6)
  source            String?
  campaign_id       String?
  total_revenue     Decimal?
  transaction_count BigInt?

  @@unique([hour, source, campaign_id], name: "idx_report_revenue_hourly_unique")
  @@ignore
}

model report_demographics_fb_daily {
  day          DateTime? @db.Timestamp(6)
  eventType    String?   @map("eventType")
  gender       String?
  age          Int?
  country      String?
  city         String?
  unique_users BigInt?
  event_count  BigInt?

  @@unique([day, eventType, gender, age, country, city], name: "idx_report_demographics_fb_daily_unique")
  @@ignore
}

model report_demographics_tiktok_daily {
  day              DateTime? @db.Timestamp(6)
  eventType        String?   @map("eventType")
  country          String?
  follower_segment String?
  unique_users     BigInt?
  event_count      BigInt?

  @@unique([day, eventType, country, follower_segment], name: "idx_report_demographics_tiktok_daily_unique")
  @@ignore
}
